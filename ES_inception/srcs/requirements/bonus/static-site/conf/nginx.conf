# ============================================================================
#            CONFIGURACIÓN NGINX - STATIC SITE (INCEPTION)
# ============================================================================

# Usuario que ejecuta NGINX
user www-data;

# Número de procesos worker (auto = número de CPUs)
worker_processes auto;

# Archivo PID del proceso
pid /run/nginx.pid;

# --------------------------------------------------------------------------
# EVENTOS
# --------------------------------------------------------------------------
events {
    worker_connections 768;
}

# --------------------------------------------------------------------------
# HTTP - Servidor de contenido estático
# --------------------------------------------------------------------------
http {
    # Tipos MIME para servir archivos correctamente
    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    server {
        # Escuchar en puerto 8080 (accesible vía proxy desde NGINX principal)
        listen 8080;
        
        # Aceptar cualquier nombre de servidor
        server_name _;
        
        # Directorio raíz con los archivos HTML/CSS/JS
        root /var/www/html/portfolio;
        
        # Archivo índice por defecto
        index index.html;

        # Servir archivos estáticos (sin procesamiento dinámico)
        location / {
            try_files $uri $uri/ =404;
        }
    }
}